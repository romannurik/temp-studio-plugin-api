"use strict";const e=require(`../include/jsx-runtime-DScW3M7Y.js`);var t={};const n={Fragment:e.Fragment,Label:e=>({type:`label`,...e}),Button:e=>({type:`button`,...e}),Icon:e=>({type:`icon`,...e}),CodeSnippet:e=>({type:`codeSnippet`,...e}),StepPlan:e=>({type:`stepPlan`,...e}),StepProgressLabel:e=>({type:`stepProgressLabel`,...e}),StatusIcon:e=>({type:`statusIcon`,...e}),TextField:e=>({type:`textField`,...e}),FileLabel:e=>({type:`fileLabel`,...e}),HStack:({children:t,...n})=>({type:`hStack`,...n,children:e.jsxNodeToNodes(t)}),VStack:({children:t,...n})=>({type:`vStack`,...n,children:e.jsxNodeToNodes(t)}),FileChanges:e=>({type:`fileChanges`,...e}),Markdown:e=>({type:`markdown`,...e}),Expandable:({children:t,...n})=>({type:`expandable`,...n,children:e.jsxNodeToNodes(t)})},r=/(?:@[\w\-:]+|\/[\w\-:]+)/g;function i(e){e||=``,typeof e==`object`&&(e=a(e)),e=e.trim();let t={prompt:``,empty:!0},n=0;for(let i of e.matchAll(r)){let r=i[0],a=e.substring(n,i.index).trim(),o=t.prompt;if(a&&(t.prompt+=a),r.startsWith(`@`)&&!t.agentHandle&&!t.prompt)t.agentHandle=r.substring(0);else if(r.startsWith(`/`)&&!t.slashCommand&&!t.prompt)t.slashCommand=r.substring(0);else if(a){t.prompt=o;continue}n=i.index+r.length}let i=e.substring(n).trim();return i&&(t.prompt+=i),t.empty=!t.agentHandle&&!t.prompt&&!t.slashCommand,t}function a(e){return e.body.map(e=>e.type===`markdown`?e.markdown:``).join(``)}function o(e){let t=[];for(let n of e.history)n.type===`message`?t.push(n):n.type===`subthread`&&t.push(...o(n));return t}function s(e){for(;e.parentThread;)e=e.parentThread;return e}exports.UI=n,exports.flattenThread=o,exports.messageText=a,exports.parseUserPrompt=i,exports.rootThread=s,Object.defineProperty(exports,`ui`,{enumerable:!0,get:function(){return t}});