"use strict";var e=Object.defineProperty,t=(t,n)=>{for(var r in n)e(t,r,{get:n[r],enumerable:!0})};const n=/(?:@[\w\-:]+|\/[\w\-:]+)/g;function r(e){e||=``,typeof e==`object`&&(e=e.body.map(e=>e.type===`markdown`?e.markdown:``).join(``)),e=e.trim();let t={prompt:``,empty:!0},r=0;for(let i of e.matchAll(n)){let n=i[0],a=e.substring(r,i.index).trim(),o=t.prompt;if(a&&(t.prompt+=a),n.startsWith(`@`)&&!t.agentHandle&&!t.prompt)t.agentHandle=n.substring(0);else if(n.startsWith(`/`)&&!t.slashCommand&&!t.prompt)t.slashCommand=n.substring(0);else if(a){t.prompt=o;continue}r=i.index+n.length}let i=e.substring(r).trim();return i&&(t.prompt+=i),t.empty=!t.agentHandle&&!t.prompt&&!t.slashCommand,t}var i={};t(i,{parseUserPrompt:()=>r});var a={};function o(e){return e}Object.defineProperty(exports,`ai`,{enumerable:!0,get:function(){return i}}),Object.defineProperty(exports,`aiui`,{enumerable:!0,get:function(){return a}}),exports.defineMonospacePlugin=o;